/* ==== Background Boxes (single-layer, full-tile hover color) ==== */
:root {
  --bb-size: 40px;                    /* smaller squares for denser grid */
  --bb-bg: #0f172a;                   /* slate-900 background */
  --bb-line: rgba(255,255,255,.08);   /* border color */
  --bb-fill: rgba(255,255,255,.02);   /* base tile fill */
}

#bg-boxes {
  position: relative;
  width: 100vw;
  height: 100vh;                      /* exactly one viewport */
  overflow: hidden;
  background: var(--bb-bg);
  color: #fff;
  isolation: isolate;

  /* center any foreground content */
  display: flex;
  align-items: center;
  justify-content: center;
}

#bg-boxes .boxes {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--bb-size), 1fr));
  grid-auto-rows: var(--bb-size);
  gap: 0;
  z-index: 0;
}

/* individual square */
#bg-boxes .box {
  position: relative;
  border: 1px solid var(--bb-line);
  background: var(--bb-fill);
  transition: transform 120ms ease, box-shadow 160ms ease, background-color 160ms ease, border-color 160ms ease;
  will-change: transform, box-shadow, background-color, border-color;
}

/* FULL-TILE hover color using the per-tile hue */
#bg-boxes .box:hover {
  /* fill entire tile with the color, not a circular spot */
  background-color: hsl(var(--h, 210) 100% 60% / 0.35);
  border-color: hsl(var(--h, 210) 100% 60% / 0.5);
  transform: translateZ(0) scale(1.02);
  box-shadow:
    0 0 0 1px hsl(var(--h,210) 100% 60% / 0.35),
    0 6px 18px hsl(var(--h,210) 100% 60% / 0.30),
    0 18px 50px hsl(var(--h,210) 100% 60% / 0.22);
}

/* optional soft vignette like the Tailwind mask-image radial fade */
#bg-boxes .edge-mask {
  position: absolute;
  inset: 0;
  background: var(--bb-bg);
  pointer-events: none;
  z-index: 2;
  -webkit-mask-image: radial-gradient(62% 62% at 50% 45%, transparent 45%, white 80%);
          mask-image: radial-gradient(62% 62% at 50% 45%, transparent 45%, white 80%);
}

/* foreground content sits above effects */
#bg-boxes .content {
  position: relative;
  z-index: 3;
  text-align: center;
  padding: 2rem;
  margin-top: -120px;
}
#bg-boxes .content h2 {
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 700;
}
#bg-boxes .content p {
  margin-top: .75rem;
  color: #d1d5db;
  font-size: clamp(1rem, 2vw, 1.25rem);
}

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  #bg-boxes .box { transition: none; }
}

/* Let hover events reach the boxes even under text */
#bg-boxes .content {
  pointer-events: none;     /* pass-through */
}

/* Re-enable interactivity for specific elements inside the content */
#bg-boxes .content a,
#bg-boxes .content button,
#bg-boxes .content input,
#bg-boxes .content select,
#bg-boxes .content textarea,
#bg-boxes .content .btn {
  pointer-events: auto;
}

/* Ensure boxes can receive hover */
#bg-boxes .boxes,
#bg-boxes .box {
  pointer-events: auto;
}

/* Edge mask should not block hover */
#bg-boxes .edge-mask {
  pointer-events: none;
}
